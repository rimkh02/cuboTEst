"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[359],{30359:function(e,r,s){s.r(r),s.d(r,{default:function(){return I}});var o=s(65964),n=s(2135),d=s(42669),t=s(77449),a=s(76025),i=s(10978),c=s(4021),l=s(80133),u=s(74165),g=s(15861),p=s(29439),m=s(47313),w=s(69973),x=s(58467),f=s(75627),P=s(62563),h=s(62463),_=s(48569),j=s(59017),q=s(18104),v=s(32703),Z=s(68986),b=s(11154),y=s(1333),F=s(8337),C=s(46417);function k(){var e=(0,x.s0)(),r=(0,Z.Ds)().enqueueSnackbar,s=(0,y.I0)(),o=(0,l.nt)().translate,n=(0,m.useState)(!1),d=(0,p.Z)(n,2),t=d[0],a=d[1],c=(0,m.useState)(!1),k=(0,p.Z)(c,2),I=k[0],S=k[1],E=(0,y.v9)((function(e){return e.auth})).isLoadingForget,z="undefined"!==typeof window?sessionStorage.getItem("email-recovery"):"",A=w.object().shape({code1:w.string().required(o("PageForgetPassword.Code_required")),code2:w.string().required(o("PageForgetPassword.Code_required")),code3:w.string().required(o("PageForgetPassword.Code_required")),code4:w.string().required(o("PageForgetPassword.Code_required")),code5:w.string().required(o("PageForgetPassword.Code_required")),code6:w.string().required(o("PageForgetPassword.Code_required")),code7:w.string().required(o("PageForgetPassword.Code_required")),code8:w.string().required(o("PageForgetPassword.Code_required")),email:w.string().email("Email must be a valid email address").required("Email is required"),password:w.string().min(8,o("errors.password")).required(o("errors.Password_is_required")),confirmPassword:w.string().required(o("settings.confirm_password_is_required")).oneOf([w.ref("password"),null],o("errors.passwords_must_match"))}),L={code1:"",code2:"",code3:"",code4:"",code5:"",code6:"",code7:"",code8:"",email:z||"",password:"",confirmPassword:""},N=(0,f.cI)({mode:"onChange",resolver:(0,P.X)(A),defaultValues:L}),D=N.handleSubmit,J=N.formState.errors,O=function(){var n=(0,g.Z)((0,u.Z)().mark((function n(d){var t;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t={email:d.email,resetToken:"".concat(d.code1).concat(d.code2).concat(d.code3).concat(d.code4).concat(d.code5).concat(d.code6).concat(d.code7).concat(d.code8),newPassword:d.password},s((0,F.zQ)({data:t,toast:r,translate:o,navigate:e}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,C.jsx)(b.ZP,{methods:N,onSubmit:D(O),children:(0,C.jsxs)(h.Z,{spacing:3,children:[(0,C.jsx)(b.au,{name:"email",label:"Email",disabled:!!z,InputLabelProps:{shrink:!0}}),(0,C.jsx)(h.Z,{direction:"row",spacing:2,justifyContent:"center",children:(0,C.jsx)(b.Iy,{keyName:"code",inputs:["code1","code2","code3","code4","code5","code6","code7","code8"],InputProps:{sx:{"& input":{padding:"16.5px 14px",textAlign:"center",height:"1.4375em"}}},inputProps:{maxLength:1}})}),(!!J.code1||!!J.code2||!!J.code3||!!J.code4||!!J.code5||!!J.code6||!!J.code7||!!J.code8)&&(0,C.jsx)(_.Z,{error:!0,sx:{px:2},children:o("PageForgetPassword.Code_required")}),(0,C.jsx)(b.au,{name:"password",label:o("settings.new_password"),type:t?"text":"password",InputProps:{endAdornment:(0,C.jsx)(j.Z,{position:"end",children:(0,C.jsx)(q.Z,{onClick:function(){return a(!t)},edge:"end",children:(0,C.jsx)(i.Z,{icon:t?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,C.jsx)(b.au,{name:"confirmPassword",label:o("settings.confirm_new_password"),type:I?"text":"password",InputProps:{endAdornment:(0,C.jsx)(j.Z,{position:"end",children:(0,C.jsx)(q.Z,{onClick:function(){return S(!I)},edge:"end",children:(0,C.jsx)(i.Z,{icon:I?"eva:eye-fill":"eva:eye-off-fill"})})})}}),(0,C.jsx)(v.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:E,sx:{mt:3},children:o("send")})]})})}function I(){var e=(0,l.nt)().translate;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(o.ql,{children:(0,C.jsxs)("title",{children:[" ",e("PageForgetPassword.New_Password")]})}),(0,C.jsx)(c.J,{sx:{mb:5,height:96}}),(0,C.jsx)(d.Z,{variant:"h5",paragraph:!0,children:e("PageForgetPassword.new_password_description1")}),(0,C.jsxs)(d.Z,{sx:{color:"text.secondary",mb:5,fontSize:"14px"},children:[e("PageForgetPassword.new_password_description2"),(0,C.jsx)("br",{}),e("PageForgetPassword.new_password_description3")]}),(0,C.jsx)(k,{}),(0,C.jsxs)(t.Z,{to:a.EE.login,component:n.rU,color:"inherit",variant:"subtitle2",sx:{mx:"auto",alignItems:"center",display:"inline-flex",my:3},children:[(0,C.jsx)(i.Z,{icon:"eva:chevron-left-fill",width:16}),e("PageForgetPassword.return")]})]})}}}]);