(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[519],{69863:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return me}});var t=r(47313),i=r(65964),a=r(58467),s=r(80941),l=r(82937),o=r(76025),c=r(1333),d=r(4277),h=r(80133),x=r(24969),m=r(87130),u=r(1413),p=r(74165),g=r(15861),f=r(29439),j=r(70816),v=r.n(j),Z=r(92484),b=r(62463),w=r(77914),y=r(16157),S=r(73477),C=r(43394),k=r(86309),P=r(72905),I=(r(32454),r(30791),r(61911)),_=r(62563),D=r(75627),W=r(69973),R=r(2464),F=r(46417);function N(e){e.rechargementData;var n=e.onNextStep,r=e.onAddMonth,i={okButtonLabel:"Ok",cancelButtonLabel:"Cancel"},a={okButtonLabel:"Valider",cancelButtonLabel:"Annuler"},s=localStorage.getItem("i18nextLng")||h.Fp.value,l=(0,c.v9)((function(e){return e.categories})),o=l.categories,d=l.refresh,x=new Date,m=(0,t.useState)(o),j=(0,f.Z)(m,2),N=(j[0],j[1]),A=(0,t.useState)({year:x.getFullYear(),month:x.getMonth(),day:x.getDate()}),B=(0,f.Z)(A,2),E=B[0],L=(B[1],(0,h.nt)()),M=L.translate,T=L.currentLang,V=W.object().shape({date:W.date().nullable().required(M("tax.at_least_month")).typeError(M("invalid_value"))}),z=(0,D.cI)({resolver:(0,_.X)(V),defaultValues:{date:null}}),G=z.handleSubmit;(0,t.useEffect)((function(){(0,c.WI)((0,R.kw)({}))}),[d]),(0,t.useEffect)((function(){null!==o&&void 0!==o&&o.length&&N(null===o||void 0===o?void 0:o.filter((function(e){return"ACTIVE"===(null===e||void 0===e?void 0:e.status)})))}),[o]);var O=function(){var e=(0,g.Z)((0,p.Z)().mark((function e(t){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t.date),n();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,F.jsx)(Z.Z,{sx:{p:3,mb:3},children:(0,F.jsx)(b.Z,{flexGrow:1,spacing:3,children:(0,F.jsxs)(I.Z,{methods:z,onSubmit:G(O),children:[(0,F.jsx)(D.Qr,{name:"date",render:function(e){var n=e.field,r=e.fieldState.error;return(0,F.jsx)(C._,{dateAdapter:P.y,adapterLocale:s,localeText:"fr"===T.value?a:i,children:(0,F.jsx)(k.O,(0,u.Z)((0,u.Z)({views:["month"]},n),{},{label:M("tax.month"),inputFormat:"MMMM",minDate:new Date(E.year+"-"+(E.month-1)+"-01"),maxDate:v()(x).add(1,"months").toDate(),showToolbar:!1,closeOnSelect:!0,renderInput:function(e){return(0,F.jsx)(w.Z,(0,u.Z)((0,u.Z)({onKeyDown:function(e){return e.preventDefault()},disabled:!0,fullWidth:!0},e),{},{error:!!r,helperText:null===r||void 0===r?void 0:r.message}))}}))})}}),(0,F.jsx)(b.Z,{spacing:3,children:(0,F.jsx)(y.Z,{sx:{textAlign:"right"},children:(0,F.jsx)(S.Z,{sx:{mt:3},type:"submit",variant:"contained",children:M("next")})})})]})})})}var A=r(39874),B=r(34207),E=r(44874),L=r(53805),M=r(59629),T=r(37982),V=r(42669),z=r(32703),G=r(58908),O=r(10978),q=r(11154),K=r(94085),Y=r(28840),H=r(30409),U=r(84271);function X(e){var n,r=e.rechargementData,i=(e.onReset,e.onNextStep),a=e.onBackStep,s=(0,Y.x6)({defaultRowsPerPage:10}),l=s.page,o=s.rowsPerPage,x=s.setPage,m=s.onChangePage,u=s.onChangeRowsPerPage,j=(0,c.v9)((function(e){return e.employee})),v=j.isLoading,w=j.employees,C=(0,c.v9)((function(e){return e.rechargement})),k=C.isLoadingReloadTicketResto,P=(C.rechargementData,(0,t.useState)([])),I=(0,f.Z)(P,2),R=I[0],N=I[1],X=(0,h.nt)().translate,$=(0,G.Ds)().enqueueSnackbar,Q=[{id:"name",label:X("employee.employee")},{id:"email",label:X("Email"),align:"center"},{id:"phone",label:X("companies.phone"),align:"center"},{id:"nbrday",label:X("employee.Number_of_days"),align:"right"}],J=W.object().shape({items:W.array().of(W.object().shape({nbr:W.number().typeError(X("invalid_value")).transform((function(e,n){return""===(null===n||void 0===n?void 0:n.trim())?null:e})).nullable().min(0,X("employee.Must_be_more_than")).max(90,X("employee.Must_be_less_than"))}))}),ee=(0,D.cI)({mode:"all",reValidateMode:"onChange",resolver:(0,_.X)(J)}),ne=(0,t.useState)(""),re=(0,f.Z)(ne,2),te=re[0],ie=re[1],ae=""!==te,se=function(e){var n,r=e.inputData,t=e.filterName;t&&(r=null===(n=r)||void 0===n?void 0:n.filter((function(e){var n,r;return-1!==(null===e||void 0===e||null===(n=e.lastName)||void 0===n?void 0:n.toLowerCase().indexOf(null===t||void 0===t?void 0:t.toLowerCase()))||-1!==(null===e||void 0===e||null===(r=e.firstName)||void 0===r?void 0:r.toLowerCase().indexOf(null===t||void 0===t?void 0:t.toLowerCase()))})));return r}({inputData:R,filterName:te}),le=ee.handleSubmit,oe=ee.formState.isDirty,ce=function(){var e=(0,g.Z)((0,p.Z)().mark((function e(n){var t,a;return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={lines:[],reloadMonth:r.month},a=0,Object.keys(n.items).forEach((function(e){if(void 0!==n.items[e].nbr&&null!==n.items[e].nbr&&0!==n.items[e].nbr){var r,i=se.find((function(n){return n.id.toString()===e}));a+=parseInt(n.items[e].nbr);var s={forEmployeeContractId:null===i||void 0===i||null===(r=i.contract)||void 0===r?void 0:r.id,presenceDaysCount:parseInt(n.items[e].nbr)};t.lines.push(s)}})),isNaN(a)||0===a?$(X("errors.employe_nbr_required_event"),{variant:"error"}):((0,c.WI)((0,d.lZ)(t)),i());case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){(0,c.WI)((0,U.VB)({}))}),[]),(0,t.useEffect)((function(){null!==w&&void 0!==w&&w.length&&N(w.filter((function(e){var n;return"ACTIVE"===(null===e||void 0===e||null===(n=e.category)||void 0===n?void 0:n.status)&&("ACTIVE"===(null===e||void 0===e?void 0:e.status)||"CREATED"===(null===e||void 0===e?void 0:e.status))})))}),[w,null===r||void 0===r?void 0:r.cagnotte]),(0,F.jsx)(Z.Z,{sx:{mb:3},children:(0,F.jsx)(b.Z,{flexGrow:1,spacing:3,children:(0,F.jsxs)(q.ZP,{methods:ee,onSubmit:le(ce),children:[(0,F.jsx)(A.Z,{sx:{overflow:"unset"},children:(0,F.jsxs)(K.Z,{children:[(0,F.jsx)(H.Z,{isFiltered:ae,filterName:te,onFilterName:function(e){x(0),ie(e.target.value)},onResetFilter:function(){ie("")}}),v?(0,F.jsx)(y.Z,{sx:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",height:300,width:"100%"},children:(0,F.jsx)(B.Z,{size:40,color:"primary"})}):(0,F.jsxs)(E.Z,{sx:{minWidth:800},children:[(0,F.jsx)(Y.K,{headLabel:Q,rowCount:null===R||void 0===R?void 0:R.length}),(0,F.jsxs)(L.Z,{children:[null===se||void 0===se||null===(n=se.slice(l*o,l*o+o))||void 0===n?void 0:n.map((function(e,n){return(0,F.jsxs)(M.Z,{hover:!0,children:[(0,F.jsx)(T.Z,{children:(0,F.jsx)(V.Z,{variant:"subtitle2",noWrap:!0,sx:{textTransform:"capitalize"},children:e.firstName+" "+e.lastName})}),(0,F.jsx)(T.Z,{align:"center",children:(""===e.email||null===e.email)&&X("unassigned")||" "+e.email}),(0,F.jsx)(T.Z,{align:"center",children:""===e.phone&&X("unassigned")||e.phone}),(0,F.jsx)(T.Z,{align:"right",children:(0,F.jsx)(q.au,{name:"items[".concat(e.id,"].nbr"),variant:"standard",size:"small",placeholder:X("tax.writing"),sx:{width:100},InputLabelProps:{shrink:!0}})})]},e.phone)})),0===(null===se||void 0===se?void 0:se.length)&&(0,F.jsx)(Y.et,{isNotFound:!0,title:X("employee.no_employees")}),(0,F.jsx)(Y.$W,{emptyRows:(0,Y.fQ)(l,o,null===R||void 0===R?void 0:R.length)})]})]})]})}),(0,F.jsx)(Y.S_,{count:null===se||void 0===se?void 0:se.length,page:l,rowsPerPage:o,onPageChange:m,onRowsPerPageChange:u}),(0,F.jsxs)(b.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:2.5,py:3},children:[(0,F.jsx)(S.Z,{size:"small",color:"inherit",onClick:a,startIcon:(0,F.jsx)(O.Z,{icon:"eva:arrow-ios-back-fill"}),children:X("back")}),(0,F.jsx)(y.Z,{sx:{textAlign:"right"},children:(0,F.jsx)(z.Z,{type:"submit",variant:"contained",disabled:!oe,loading:k,children:X("next")})})]})]})})})}var $=r(34940),Q=r(70224),J=r(89886);function ee(e){var n=e.open,r=e.onReset,t=(0,h.nt)().translate;return(0,F.jsx)(J.Kl,{fullScreen:!0,open:n,PaperProps:{sx:{maxWidth:{md:"calc(100% - 48px)"},maxHeight:{md:"calc(100% - 48px)"}}},children:(0,F.jsxs)(b.Z,{spacing:5,sx:{m:"auto",maxWidth:480,textAlign:"center",px:{xs:2,sm:0}},children:[(0,F.jsx)(V.Z,{variant:"h4",children:t("rechargementPage.meals.completed")}),(0,F.jsx)(Q.Jt,{sx:{height:260}}),(0,F.jsxs)(V.Z,{children:[(0,F.jsx)("br",{})," ",t("rechargementPage.meals.continue")]}),(0,F.jsx)($.Z,{sx:{borderStyle:"dashed"}}),(0,F.jsx)(b.Z,{spacing:2,justifyContent:"space-between",direction:{xs:"column-reverse",sm:"row"},children:(0,F.jsx)(S.Z,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",onClick:function(){r()},startIcon:(0,F.jsx)(O.Z,{icon:"eva:arrow-ios-back-fill"}),children:t("rechargementPage.meals.buttonContinue")})})]})})}var ne=r(79624),re=r(58439);function te(e){e.rechargementData;var n=e.onNextStep,r=e.onBackStep,i=(0,re.Z)().translate,a=(0,c.I0)(),s=(0,t.useState)(0),o=(0,f.Z)(s,2),h=o[0],x=o[1],m=(0,c.v9)((function(e){return e.auth.company})),u=m.ticketRestaurantFacialValueCoveragePercent,p=m.ticketRestaurantFacialValue,g=(0,c.v9)((function(e){return e.rechargement.rechargementData})).linesToSend;(0,t.useEffect)((function(){for(var e=0,n=0;n<g.lines.length;n++)e+=g.lines[n].presenceDaysCount;x(e)}),[g.lines]);return(0,F.jsx)(Z.Z,{sx:{mb:3},children:(0,F.jsx)(b.Z,{flexGrow:1,spacing:3,children:(0,F.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,F.jsxs)(l.ZP,{item:!0,xs:12,md:8,spacing:3,children:[(0,F.jsx)(V.Z,{paragraph:!0,variant:"h4",sx:{whiteSpace:"pre-line",pl:3,pt:3,pr:3},children:i("rechargementPage.meals.details_cmd")}),(0,F.jsxs)(b.Z,{sx:{flexDirection:"row"},children:[(0,F.jsxs)(b.Z,{sx:{padding:3,width:"70%"},children:[(0,F.jsx)(V.Z,{paragraph:!0,variant:"body1",sx:{whiteSpace:"pre-line",mb:1,fontWeight:400},children:i("rechargementPage.meals.reload_month")}),(0,F.jsx)(V.Z,{paragraph:!0,variant:"body2",sx:{whiteSpace:"pre-line",color:"text.secondary"},children:i("rechargementPage.meals.amount_reload")}),(0,F.jsxs)(b.Z,{sx:{display:"flex",flexDirection:"row"},children:[(0,F.jsxs)(b.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,F.jsx)(y.Z,{sx:{flexShrink:0,display:"flex",borderRadius:1.5,alignItems:"center",justifyContent:"center"},children:(0,F.jsx)(O.Z,{width:16,icon:"heroicons:ticket",color:"text.secondary",sx:{width:40,height:40}})}),(0,F.jsxs)(y.Z,{sx:{flexGrow:1},children:[(0,F.jsxs)(V.Z,{variant:"subtitle2",children:[p," \u20ac"]}),(0,F.jsx)(b.Z,{direction:"row",alignItems:"center",sx:{color:"text.secondary"},children:(0,F.jsx)(V.Z,{variant:"caption",sx:{ml:.5,mr:1},children:i("rechargementPage.meals.per_title")})})]})]}),(0,F.jsx)(O.Z,{width:16,icon:"twemoji:heavy-multiplication-x",color:"text.secondary",sx:{mt:"15px",mr:"20px",ml:"15px"}}),(0,F.jsxs)(b.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,F.jsx)(y.Z,{sx:{flexShrink:0,display:"flex",borderRadius:1.5,alignItems:"center",justifyContent:"center"},children:(0,F.jsx)(O.Z,{width:16,icon:"ph:handbag-simple",color:"text.secondary",sx:{width:40,height:40}})}),(0,F.jsxs)(y.Z,{sx:{flexGrow:1},children:[(0,F.jsx)(V.Z,{variant:"subtitle2",children:h}),(0,F.jsx)(b.Z,{direction:"row",alignItems:"center",sx:{color:"text.secondary"},children:(0,F.jsx)(V.Z,{variant:"caption",sx:{ml:.5,mr:1},children:i("rechargementPage.meals.title")})})]})]})]})]}),(0,F.jsxs)(b.Z,{alignItems:"flex-end",sx:{padding:3,width:"30%",textAlign:{xs:"center",md:"left"}},children:[(0,F.jsxs)(V.Z,{paragraph:!0,variant:"h6",sx:{whiteSpace:"pre-line",mb:0},children:[h*p*u/100,"\u20ac"]}),(0,F.jsxs)(V.Z,{variant:"body2",sx:{whiteSpace:"pre-line",color:"text.secondary"},children:[i("rechargementPage.meals.not_tva"),i("rechargementPage.meals.tva")]})]})]}),(0,F.jsx)(b.Z,{sx:{flexDirection:"row"},children:(0,F.jsxs)(b.Z,{sx:{padding:3,width:"70%"},children:[(0,F.jsx)(V.Z,{paragraph:!0,variant:"body1",sx:{whiteSpace:"pre-line",mb:1,fontWeight:400},children:i("rechargementPage.meals.nbr_benifciaries")}),(0,F.jsx)(b.Z,{sx:{display:"flex",flexDirection:"row"},children:(0,F.jsxs)(b.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,F.jsx)(y.Z,{sx:{flexShrink:0,display:"flex",borderRadius:1.5,alignItems:"center",justifyContent:"center"},children:(0,F.jsx)(O.Z,{width:16,icon:"bi:person",color:"text.secondary",sx:{width:40,height:40}})}),(0,F.jsxs)(y.Z,{sx:{flexGrow:1},children:[(0,F.jsx)(V.Z,{variant:"subtitle2",children:g.lines.length}),(0,F.jsx)(b.Z,{direction:"row",alignItems:"center",sx:{color:"text.secondary"},children:(0,F.jsx)(V.Z,{variant:"caption",sx:{ml:.5,mr:1},children:i("rechargementPage.meals.beneficiaries")})})]})]})})]})}),(0,F.jsx)($.Z,{sx:{ml:3}}),(0,F.jsxs)(b.Z,{sx:{flexDirection:"row"},children:[(0,F.jsx)(b.Z,{sx:{padding:3,width:"70%"},children:(0,F.jsx)(V.Z,{paragraph:!0,variant:"h5",sx:{whiteSpace:"pre-line",mb:1,fontWeight:700,color:"primary.main"},children:i("rechargementPage.meals.total")})}),(0,F.jsx)(b.Z,{alignItems:"flex-end",sx:{padding:3,width:"30%",textAlign:{xs:"center",md:"left"}},children:(0,F.jsxs)(V.Z,{paragraph:!0,variant:"h5",sx:{whiteSpace:"pre-line",mb:1,fontWeight:700,color:"primary.main",flex:"dispay"},children:[h*p*u/100,"\u20ac"]})})]}),(0,F.jsxs)(b.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mt:3,mb:3,ml:3},children:[(0,F.jsx)(S.Z,{size:"small",color:"inherit",onClick:r,startIcon:(0,F.jsx)(O.Z,{icon:"eva:arrow-ios-back-fill"}),children:i("back")}),(0,F.jsx)(y.Z,{sx:{textAlign:"right"},children:(0,F.jsx)(S.Z,{type:"submit",variant:"contained",onClick:function(){return a((0,d.Yr)(h*p*u/100)),void n()},children:i("next")})})]})]}),(0,F.jsx)(l.ZP,{item:!0,xs:12,md:4,children:(0,F.jsxs)(b.Z,{flexGrow:1,justifyContent:"center",alignItems:"center",sx:{p:3,backgroundColor:"#F4F6F8",height:"100%"},children:[(0,F.jsx)(V.Z,{paragraph:!0,variant:"h6",sx:{whiteSpace:"pre-line"},children:i("rechargementPage.meals.summary")}),(0,F.jsxs)(b.Z,{sx:{flexDirection:"row"},children:[(0,F.jsxs)(b.Z,{alignItems:"center",sx:{padding:2,mr:1,backgroundColor:"#fff",border:"dashed",borderRadius:"8px",borderColor:"#00AB55",borderWidth:"0.12em",width:"50%"},children:[(0,F.jsx)(V.Z,{sx:{whiteSpace:"pre-line",color:"text.secondary",fontSize:16,fontWeight:700,mb:1},children:i("rechargementPage.meals.restaurant_amount")}),(0,F.jsxs)(V.Z,{variant:"h6",sx:{color:"primary.main"},children:[p," \u20ac"]})]}),(0,F.jsxs)(b.Z,{alignItems:"center",sx:{padding:2,backgroundColor:"#fff",border:"dashed",borderRadius:"8px",borderColor:"#00AB55",borderWidth:"0.12em",width:"50%"},children:[(0,F.jsx)(V.Z,{sx:{whiteSpace:"pre-line",color:"text.secondary",fontSize:16,fontWeight:700,mb:1},children:i("rechargementPage.meals.prise_en_charge")}),(0,F.jsxs)(V.Z,{variant:"h6",sx:{color:"primary.main"},children:[u," %"]})]})]}),(0,F.jsx)(V.Z,{variant:"body2",sx:{mt:{xs:1,xl:3},mb:{xs:1,xl:3},color:"text.disabled"},children:i("rechargementPage.meals.description")})]})})]})})})}var ie=r(77449),ae=r(48569),se=r(7081),le=r(66382),oe=r(83719),ce=r(18104),de=r(8337),he=r(73620);r(44469);function xe(e){e.rechargementData;var n,r,i,a,s,o,h,x,m=e.onNextStep,u=e.onBackStep,j=(0,re.Z)().translate,v=(0,c.I0)(),w=(0,c.v9)((function(e){return e.rechargement.rechargementData})),C=w.linesToSend,k=w.total,P=(0,c.v9)((function(e){return e.rechargement})).isLoadingReloadTicketResto,I=(0,t.useState)(!1),R=(0,f.Z)(I,2),N=R[0],A=R[1],B=(0,c.v9)((function(e){return e.auth})).company,E=W.object().shape({terms:W.boolean().oneOf([!0],j("rechargementPage.meals.terms_required"))}),L=(0,D.cI)({mode:"all",reValidateMode:"onChange",resolver:(0,_.X)(E),defaultValues:{terms:!1,bic:"",iban:""}}),M=L.handleSubmit,T=L.formState.errors,G=function(){var e=(0,g.Z)((0,p.Z)().mark((function e(n){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v((0,d.Pj)({data:C,onNextStep:m}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){v((0,de.Hi)())}),[v]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Z.Z,{sx:{mb:3},children:(0,F.jsx)(b.Z,{flexGrow:1,spacing:3,children:(0,F.jsxs)(l.ZP,{container:!0,children:[(0,F.jsxs)(l.ZP,{item:!0,xs:12,md:8,children:[(0,F.jsx)(V.Z,{paragraph:!0,variant:"h4",sx:{whiteSpace:"pre-line",pl:{xs:3,md:7},pt:3,pr:{xs:3,md:7}},children:j("rechargementPage.meals.title_payment")}),(0,F.jsxs)(b.Z,{sx:{padding:3,ml:{xs:3,md:7},mr:{xs:3,md:7},backgroundColor:"rgba(0, 171, 85, 0.08)",border:"solid",borderRadius:"8px",borderColor:"#00AB55",borderWidth:"0.1em"},children:[(0,F.jsx)(V.Z,{paragraph:!0,variant:"h6",sx:{whiteSpace:"pre-line",fontWeight:700},children:j("rechargementPage.meals.bank_debit")}),(0,F.jsxs)(b.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"}},children:[(0,F.jsx)(V.Z,{variant:"body2",children:j("rechargementPage.meals.reference")}),(0,F.jsx)(V.Z,{variant:"body2",sx:{fontWeight:"bold",mb:3},children:null===B||void 0===B||null===(n=B.paymentInformations)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.mandateIdentifier})]}),(0,F.jsx)(V.Z,{paragraph:!0,variant:"body1",sx:{whiteSpace:"pre-line",color:"text.secondary",mb:1},children:j("rechargementPage.meals.iban")}),(0,F.jsx)(b.Z,{sx:{padding:2,width:{xs:"100%",md:"60%"},backgroundColor:"#fff"},children:(0,F.jsx)(V.Z,{variant:"body1",children:null===B||void 0===B||null===(i=B.paymentInformations)||void 0===i||null===(a=i[0])||void 0===a?void 0:a.iban})}),(0,F.jsx)(V.Z,{paragraph:!0,variant:"body1",sx:{whiteSpace:"pre-line",color:"text.secondary",mb:1,mt:2},children:j("rechargementPage.meals.bic")}),(0,F.jsx)(b.Z,{sx:{padding:2,width:{xs:"100%",md:"60%"},backgroundColor:"#fff"},children:(0,F.jsx)(V.Z,{variant:"body1",children:null===B||void 0===B||null===(s=B.paymentInformations)||void 0===s||null===(o=s[0])||void 0===o?void 0:o.bic})}),(0,F.jsx)(V.Z,{paragraph:!0,variant:"body1",sx:{whiteSpace:"pre-line",color:"text.secondary",mb:1,mt:2},children:j("rechargementPage.meals.Signing")}),(0,F.jsx)(b.Z,{sx:{padding:2,width:{xs:"100%",md:"60%"},backgroundColor:"#fff"},children:(0,F.jsx)(V.Z,{variant:"body1",children:null===B||void 0===B||null===(h=B.paymentInformations)||void 0===h||null===(x=h[0])||void 0===x?void 0:x.signatory})})]}),(0,F.jsx)(b.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mt:3,mb:3,ml:3},children:(0,F.jsx)(S.Z,{size:"small",color:"inherit",onClick:u,startIcon:(0,F.jsx)(O.Z,{icon:"eva:arrow-ios-back-fill"}),children:j("back")})})]}),(0,F.jsx)(l.ZP,{item:!0,xs:12,md:4,children:(0,F.jsx)(b.Z,{flexGrow:1,justifyContent:"center",alignItems:"center",sx:{p:3,backgroundColor:"#F4F6F8",height:"100%",width:"100%"},children:(0,F.jsxs)(b.Z,{sx:{padding:2,backgroundColor:"#fff",border:"dashed",borderRadius:"8px",borderColor:"#00AB55",borderWidth:"0.12em"},children:[(0,F.jsx)(V.Z,{paragraph:!0,variant:"h6",sx:{whiteSpace:"pre-line",textAlign:"center"},children:j("rechargementPage.meals.summaryoredr")}),(0,F.jsxs)(b.Z,{sx:{flexDirection:"row"},children:[(0,F.jsx)(b.Z,{sx:{textAlign:"left",width:"70%"},children:(0,F.jsx)(V.Z,{paragraph:!0,variant:"body1",sx:{whiteSpace:"pre-line",mb:0,fontWeight:400},children:j("rechargementPage.meals.reloads")})}),(0,F.jsx)(b.Z,{alignItems:"flex-end",sx:{width:"30%"},children:(0,F.jsxs)(V.Z,{paragraph:!0,variant:"h6",sx:{whiteSpace:"pre-line",mb:0},children:[k,"\u20ac"]})})]}),(0,F.jsxs)(V.Z,{paragraph:!0,variant:"body1",sx:{whiteSpace:"pre-line",color:"text.secondary",mb:0,textAlign:"left"},children:[j("rechargementPage.meals.not_tva"),j("rechargementPage.meals.tva")]}),(0,F.jsxs)(b.Z,{sx:{flexDirection:"row",mt:3},children:[(0,F.jsx)(b.Z,{sx:{textAlign:"left",width:"70%"},children:(0,F.jsx)(V.Z,{paragraph:!0,variant:"h5",sx:{whiteSpace:"pre-line",mb:1,fontWeight:700,color:"primary.main"},children:j("rechargementPage.meals.total")})}),(0,F.jsx)(b.Z,{alignItems:"flex-end",sx:{width:"30%"},children:(0,F.jsxs)(V.Z,{paragraph:!0,variant:"h5",sx:{whiteSpace:"pre-line",mb:1,fontWeight:700,color:"primary.main",flex:"dispay"},children:[k,"\u20ac"]})})]}),(0,F.jsxs)(q.ZP,{methods:L,onSubmit:M(G),children:[(0,F.jsx)(q.jb,{name:"terms",label:(0,F.jsx)(F.Fragment,{children:j("rechargementPage.meals.accept")})}),(0,F.jsx)(ie.Z,{onClick:function(){return A(!0)},sx:{color:"#212B36",fontWeight:"500",cursor:"pointer"},children:j("rechargementPage.meals.accept_link")}),T.terms&&(0,F.jsx)(ae.Z,{sx:{px:2},error:!0,children:T.terms.message}),(0,F.jsx)(z.Z,{type:"submit",variant:"contained",sx:{mt:2,mb:3},fullWidth:!0,loading:P,disabled:!L.formState.isValid,children:j("rechargementPage.meals.finale")})]})]})})})]})})}),(0,F.jsx)(se.Z,{fullScreen:!0,open:N,sx:{mt:5,mb:5,ml:8,mr:8},children:(0,F.jsxs)(y.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,F.jsx)(le.Z,{sx:{zIndex:9,padding:"12px !important",boxShadow:function(e){return e.customShadows.z8}},children:(0,F.jsx)(oe.Z,{title:"Close",children:(0,F.jsx)(ce.Z,{color:"inherit",onClick:function(){return A(!1)},children:(0,F.jsx)(O.Z,{icon:"eva:close-fill",width:40})})})}),(0,F.jsx)(y.Z,{style:{height:"100%",width:"100%",overflowY:"scroll"},children:(0,F.jsx)(he.Worker,{workerUrl:"/pdf.worker.js",children:(0,F.jsx)(he.Viewer,{fileUrl:"/assets/document/CGUSWEWawashi.pdf"})})})]})})]})}function me(){var e=(0,a.s0)(),n=(0,m.K$)().themeStretch,r=(0,c.I0)(),u=(0,h.nt)().translate,p=[u("cagnotte.month"),u("employee.employees")+" & "+u("avantages.billets_restaurant"),u("resume"),u("rechargementPage.meals.sampling")],g=(0,c.v9)((function(e){return null===e||void 0===e?void 0:e.rechargement})).rechargementData,f=g.activeStep,j=f===p.length;(0,t.useEffect)((function(){r((0,d.p9)()),1===f&&r((0,d.WG)(null))}),[r,f]),(0,t.useEffect)((function(){r((0,d.Dl)())}),[]);var v=function(){r((0,d.zF)())},Z=function(){r((0,d.HY)())},b=function(){r((0,d.Dl)()),e(o.vB.rechargement.root)};return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(i.ql,{children:(0,F.jsxs)("title",{children:[" ",u("Rechargment")]})}),(0,F.jsxs)(s.Z,{maxWidth:!n&&"lg",children:[(0,F.jsx)(x.Z,{heading:u("Rechargment"),links:[{name:u("Dashboard"),href:o.vB.general.homeComany},{name:u("Rechargment"),href:o.vB.rechargement.root},{name:u("rechargementPage.Meal_Ticket_Reloading")}]}),(0,F.jsx)(l.ZP,{container:!0,justifyContent:j?"center":"flex-start",children:(0,F.jsx)(l.ZP,{item:!0,xs:12,md:12,children:(0,F.jsx)(ne.Z,{activeStep:f,steps:p})})}),j?(0,F.jsx)(ee,{open:j,onReset:b}):(0,F.jsxs)(F.Fragment,{children:[0===f&&(0,F.jsx)(N,{rechargementData:g,onNextStep:v,onAddMonth:function(e){r((0,d.N$)(e))}}),1===f&&(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(X,{rechargementData:g,onNextStep:v,onBackStep:Z,onReset:b})}),2===f&&(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(te,{rechargementData:g,onNextStep:v,onBackStep:Z})}),3===f&&(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(xe,{rechargementData:g,onNextStep:v,onBackStep:Z})})]})]})]})}},30409:function(e,n,r){"use strict";r.d(n,{Z:function(){return d}});var t=r(62463),i=r(77914),a=r(59017),s=r(73477),l=r(80133),o=r(10978),c=r(46417);function d(e){var n=e.isFiltered,r=e.filterName,d=e.onFilterName,h=e.onResetFilter,x=(0,l.nt)().translate;return(0,c.jsxs)(t.Z,{spacing:2,alignItems:"center",direction:{xs:"column",sm:"row"},sx:{px:2.5,py:3},children:[(0,c.jsx)(i.Z,{fullWidth:!0,value:r,onChange:d,placeholder:x("search"),InputProps:{startAdornment:(0,c.jsx)(a.Z,{position:"start",children:(0,c.jsx)(o.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),n&&(0,c.jsx)(s.Z,{color:"error",sx:{flexShrink:0},onClick:h,startIcon:(0,c.jsx)(o.Z,{icon:"eva:trash-2-outline"}),children:x("clear")})]})}},79624:function(e,n,r){"use strict";r.d(n,{Z:function(){return g}});var t=r(1413),i=r(45987),a=r(64164),s=r(35711),l=r(2074),o=r(95895),c=r(98368),d=r(62463),h=r(16157),x=r(10978),m=r(46417),u=["steps","activeStep","sx"],p=(0,a.ZP)(s.Z)((function(e){var n=e.theme;return{top:10,left:"calc(-50% + 20px)",right:"calc(50% + 20px)","& .MuiStepConnector-line":{borderTopWidth:2,borderColor:n.palette.divider},"&.Mui-active, &.Mui-completed":{"& .MuiStepConnector-line":{borderColor:n.palette.primary.main}}}}));function g(e){var n=e.steps,r=e.activeStep,a=e.sx,s=(0,i.Z)(e,u);return(0,m.jsx)(l.Z,(0,t.Z)((0,t.Z)({alternativeLabel:!0,activeStep:r,connector:(0,m.jsx)(p,{}),sx:(0,t.Z)({mb:5},a)},s),{},{children:n.map((function(e){return(0,m.jsx)(o.Z,{children:(0,m.jsx)(c.Z,{StepIconComponent:f,sx:{"& .MuiStepLabel-label":{typography:"subtitle2"}},children:e})},e)}))}))}function f(e){var n=e.active,r=e.completed;return(0,m.jsx)(d.Z,{alignItems:"center",justifyContent:"center",sx:(0,t.Z)({width:24,height:24,color:"text.disabled"},n&&{color:"primary.main"}),children:r?(0,m.jsx)(x.Z,{icon:"eva:checkmark-fill",sx:{color:"primary.main"}}):(0,m.jsx)(h.Z,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"}})})}},93414:function(){},70172:function(){},2001:function(){},33779:function(){},66558:function(){},82258:function(){}}]);