"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[490],{57490:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var a=t(29439),r=t(47313),i=t(65964),l=t(62111),s=t(80941),c=t(82937),o=t(62463),u=t(92484),d=t(16157),h=t(42669),m=t(24969),x=t(87130),g=t(10978),v=t(76025),f=t(58467),p=t(74165),_=t(15861),j=t(69973),b=t(58908),Z=t(7081),k=t(5448),y=t(71235),R=t(79136),w=t(66382),C=t(73477),P=t(32703),V=t(75627),q=t(62563),M=t(80133),T=t(61911),S=t(11154),E=t(1333),F=t(8337),I=t(46417);function B(e){var n=e.open,t=e.onClose,a=e.accessToReloadMeals,i=(0,M.nt)().translate,l=(0,E.I0)(),s=(0,b.Ds)().enqueueSnackbar,c=(0,E.v9)((function(e){return e.auth})).configurations,o=j.object().shape({facialValue:j.number().nullable().moreThan(0,i("tax.Must_be_more")).typeError(i("tax.face_value_is_required")).required(i("tax.face_value_is_required")).max(99,i("tax.Must_be_less_than_tax_value")),coveragePercent:j.number().nullable().moreThan(0,i("tax.Must_be_more")).typeError(i("tax.percent_is_required")).required(i("tax.percent_is_required")).max(60,i("tax.Must_be_less_than_percent")).min(50,i("tax.min_percent"))}),u=(0,V.cI)({reValidateMode:"onChange",resolver:(0,q.X)(o),defaultValues:{facialValue:null,coveragePercent:null}}),d=u.reset,m=u.handleSubmit,x=u.watch,g=u.formState.isSubmitting,v=x(),f=function(){d(),t()},B=function(){var e=(0,_.Z)((0,p.Z)().mark((function e(n){return(0,p.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l((0,F.vI)({data:n,translate:i,toast:s,onClose:t,reset:d}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){l((0,F.Hi)())}),[l]),(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(Z.Z,{open:n,onClose:f,children:[(0,I.jsx)(k.Z,{children:i("tax.title")}),(0,I.jsx)(T.Z,{methods:u,onSubmit:m(B),children:(0,I.jsxs)(y.Z,{children:[a&&(0,I.jsx)(h.Z,{variant:"body1",sx:{color:"text.disabled",mb:2,mt:0},children:i("rechargementPage.meals.no_acces")}),(0,I.jsx)(S.au,{autoFocus:!0,fullWidth:!0,type:"number",name:"facialValue",margin:"dense",variant:"outlined",label:i("tax.face_value")}),(0,I.jsx)(S.au,{autoFocus:!0,fullWidth:!0,type:"number",margin:"dense",variant:"outlined",name:"coveragePercent",label:i("tax.percent")}),(null===v||void 0===v?void 0:v.facialValue)*(null===v||void 0===v?void 0:v.coveragePercent)/100>(null===c||void 0===c?void 0:c.recommendedHighestTicketRestaurantEffectiveRefundValue)&&(0,I.jsxs)(R.Z,{severity:"warning",sx:{mt:3},children:[i("tax.exceeded")," :",null===c||void 0===c?void 0:c.recommendedHighestTicketRestaurantEffectiveRefundValue]}),(0,I.jsxs)(w.Z,{children:[(0,I.jsx)(C.Z,{onClick:f,color:"inherit",children:i("Cancel")}),(0,I.jsx)(P.Z,{type:"submit",variant:"contained",loading:g,children:i("save")})]})]})})]})})}function H(){var e=(0,l.Z)(),n=(0,M.nt)().translate,t=(0,f.s0)(),p=(0,x.K$)().themeStretch,_=(0,r.useState)(!1),j=(0,a.Z)(_,2),b=j[0],Z=j[1],k=(0,E.v9)((function(e){return e.auth})).company;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(i.ql,{children:(0,I.jsxs)("title",{children:[" ",n("Rechargment")]})}),(0,I.jsxs)(s.Z,{maxWidth:!p&&"lg",children:[(0,I.jsx)(m.Z,{heading:n("Rechargment"),links:[{name:n("Dashboard"),href:v.vB.general.homeComany},{name:n("Rechargment"),href:v.vB.rechargement.root}]}),(0,I.jsxs)(c.ZP,{container:!0,spacing:3,children:[(0,I.jsx)(c.ZP,{item:!0,xs:12,md:6,lg:6,children:(0,I.jsx)(o.Z,{spacing:3,children:(0,I.jsxs)(u.Z,{onClick:function(){null===(null===k||void 0===k?void 0:k.ticketRestaurantFacialValue)||null===(null===k||void 0===k?void 0:k.ticketRestaurantFacialValueCoveragePercent)?Z(!0):t(v.vB.rechargement.mealTicket)},sx:{p:3,cursor:"pointer",borderRadius:2,overflow:"hidden",position:"relative",color:"common.white",bgcolor:"secondary.darker",height:200,display:"flex",alignItems:"center"},children:[(0,I.jsx)(d.Z,{sx:{ml:1},children:(0,I.jsx)(h.Z,{variant:"h4",children:n("rechargementPage.Meal_Ticket_Reloading")})}),(0,I.jsx)(g.Z,{icon:"ion:restaurant-sharp",sx:{width:80,height:80,opacity:.12,position:"absolute",right:e.spacing(-2)}})]})})}),(0,I.jsx)(c.ZP,{item:!0,xs:12,md:6,lg:6,children:(0,I.jsx)(o.Z,{spacing:3,children:(0,I.jsxs)(o.Z,{onClick:function(){return t(v.vB.rechargement.exceptionalEvents)},direction:"row",alignItems:"center",sx:{cursor:"pointer",p:3,borderRadius:2,overflow:"hidden",position:"relative",color:"common.white",bgcolor:"primary.main",height:200},children:[(0,I.jsx)(d.Z,{sx:{ml:1},children:(0,I.jsx)(h.Z,{variant:"h4",children:n("rechargementPage.Reloading_exceptional_events")})}),(0,I.jsx)(g.Z,{icon:"bxs:gift",sx:{cursor:"pointer",width:90,height:90,opacity:.12,position:"absolute",right:e.spacing(-2)}})]})})})]})]}),(0,I.jsx)(B,{open:b,accessToReloadMeals:!0,onClose:function(){Z(!1)}})]})}}}]);