(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[766],{40766:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var n=a(29439),r=a(65964),l=a(86248),i=a(47313),o=a(58467),s=a(80941),d=a(92484),u=a(39874),c=a(16157),g=a(34207),v=a(44874),h=a(53805),f=a(55351),x=a(76025),p=a(94085),m=a(24969),y=a(87130),j=a(28840),b=a(80133),_=a(1333),Z=a(1830),S=a(59629),T=a(37982),w=a(42669),P=a(83719),A=a(18104),C=a(10978),M=a(46417);function D(e){var t=e.row,a=e.selected,n=e.onViewRow,r=(0,b.nt)().translate,l=localStorage.getItem("i18nextLng")||b.Fp.value,i=t.amount,o=t.reloadMonth,s=t.reloadAdvantageType,d=t.createdAt,u=new Date(o).toLocaleString(l,{month:"long"});return(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(S.Z,{hover:!0,selected:a,children:[(0,M.jsx)(T.Z,{align:"center",children:(0,M.jsx)(w.Z,{variant:"subtitle2",children:r("advantagesConst."+s)},t.id)}),(0,M.jsx)(T.Z,{align:"center",children:(0,M.jsxs)(w.Z,{variant:"subtitle2",children:[i," \u20ac"]})}),(0,M.jsx)(T.Z,{align:"center",children:null!==o?(0,M.jsx)(M.Fragment,{children:u}):r("not_specified")}),(0,M.jsxs)(T.Z,{align:"center",children:[(0,M.jsx)(C.Z,{icon:"ic:baseline-calendar-month",sx:{width:20,height:20,color:"Grey"}}),(0,f.Mu)(d)]}),(0,M.jsx)(T.Z,{align:"right",children:(0,M.jsx)(P.Z,{title:r("facturationPage.view"),placement:"top",arrow:!0,children:(0,M.jsx)(A.Z,{onClick:function(){n()},children:(0,M.jsx)(C.Z,{icon:"lucide:eye"})})})})]})})}var F=a(1413),I=a(62463),R=a(77914),k=a(6621),L=a(73477),B=a(43394),E=a(32091),O=a(72905);a(32454),a(30791);function W(e){var t=e.isFiltered,a=e.optionsAdvantages,n=e.filterAdvantage,r=e.onResetFilter,l=e.onFilterStartDate,i=e.onFilterAdvantage,o=e.filterStartDate,s=(0,b.nt)().translate,d=localStorage.getItem("i18nextLng")||b.Fp.value;return(0,M.jsxs)(I.Z,{spacing:2,alignItems:"center",direction:{xs:"column",sm:"row"},sx:{px:2.5,py:3},children:[(0,M.jsx)(R.Z,{fullWidth:!0,select:!0,label:s("TransationsPage.type"),value:n,onChange:i,SelectProps:{MenuProps:{PaperProps:{sx:{maxHeight:260}}}},sx:{maxWidth:{sm:240},textTransform:"capitalize"},children:a.map((function(e){return(0,M.jsx)(k.Z,{value:e.value,sx:{mx:1,my:.5,borderRadius:.75,typography:"body2",textTransform:"capitalize","&:first-of-type":{mt:0},"&:last-of-type":{mb:0}},children:e.label},e.value)}))}),(0,M.jsx)(B._,{dateAdapter:O.y,adapterLocale:d,children:(0,M.jsx)(E.M,{views:["month"],label:s("tax.month"),value:o,inputFormat:"MMMM",onChange:l,renderInput:function(e){return(0,M.jsx)(R.Z,(0,F.Z)((0,F.Z)({},e),{},{fullWidth:!0}))}})}),t&&(0,M.jsx)(L.Z,{color:"error",sx:{flexShrink:0},onClick:r,startIcon:(0,M.jsx)(C.Z,{icon:"eva:trash-2-outline"}),children:s("clear")})]})}function z(){var e=(0,j.x6)(),t=e.dense,a=e.page,S=e.order,T=e.orderBy,w=e.rowsPerPage,P=e.selected,A=e.onSort,C=e.onChangeDense,F=e.onChangePage,I=e.onChangeRowsPerPage,R=(0,y.K$)().themeStretch,k=(0,b.nt)().translate,L=(0,o.s0)(),B=(0,_.I0)(),E=(0,_.v9)((function(e){return e.transation})),O=E.transations,z=E.isLoading,H=[{id:"reloadAdvantageType",label:k("TransationsPage.type"),align:"center"},{id:"amount",label:k("facturationPage.fields.amount"),align:"center"},{id:"reloadMonth",label:k("facturationPage.fields.Month"),align:"center"},{id:"createdAt",label:"Date",align:"center"},{id:"",align:"center"}],G=[{label:k("all"),value:"all"},{label:k("avantages.billets_restaurant"),value:"RESTAURANT"},{label:k("avantages.Culture"),value:"CULTURE"},{label:k("avantages.Sport"),value:"SPORT"},{label:k("avantages.Holidays"),value:"HOLIDAYS"},{label:k("avantages.Personal_assistance"),value:"HELP"},{label:k("avantages.Gifts"),value:"GIFT"},{label:k("avantages.Mobility"),value:"MOBILITY"},{label:k("avantages.Telework"),value:"REMOTE"}],J=(0,i.useState)([]),N=(0,n.Z)(J,2),U=N[0],K=N[1],Q=(0,i.useState)(null),V=(0,n.Z)(Q,2),Y=V[0],$=V[1],q=(0,i.useState)("all"),X=(0,n.Z)(q,2),ee=X[0],te=X[1],ae=function(e){var t,a=e.inputData,n=e.comparator,r=e.filterStartDate,l=e.filterAdvantage,i=e.sortedBy,o=e.orderType,s=null===(t=a)||void 0===t?void 0:t.map((function(e,t){return[e,t]}));null===s||void 0===s||s.sort((function(e,t){var a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),a=null===s||void 0===s?void 0:s.map((function(e){return e[0]})),r instanceof Date&&(a=a.filter((function(e){var t=new Date(null===e||void 0===e?void 0:e.reloadMonth);return(0,f.IO)(t.getMonth())===(0,f.IO)(r.getMonth())})));"all"!==l&&(a=a.filter((function(e){return e.reloadAdvantageType===l})));"reloadAdvantageType"===i&&(a=a.slice().sort((function(e,t){var a,n;return"asc"===o?null===e||void 0===e||null===(a=e.reloadAdvantageType)||void 0===a?void 0:a.localeCompare(null===t||void 0===t?void 0:t.reloadAdvantageType):null===t||void 0===t||null===(n=t.reloadAdvantageType)||void 0===n?void 0:n.localeCompare(null===e||void 0===e?void 0:e.reloadAdvantageType)})));return a}({inputData:U,comparator:(0,j.sQ)(S,T),filterStartDate:Y,filterAdvantage:ee,sortedBy:T,orderType:S}),ne=t?52:72,re=!!Y||"all"!==ee,le=!ae.length;return(0,i.useEffect)((function(){B((0,Z.yv)({}))}),[B]),(0,i.useEffect)((function(){null!==O&&void 0!==O&&O.length&&K(O)}),[O]),(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(r.ql,{children:(0,M.jsxs)("title",{children:[" ",k("TransationsPage.titlePage")]})}),(0,M.jsxs)(s.Z,{maxWidth:!R&&"lg",children:[(0,M.jsx)(m.Z,{heading:k("TransationsPage.titlePage"),links:[{name:k("Dashboard"),href:x.vB.general.homeComany},{name:k("Transations"),href:x.vB.transations.root},{name:k("list")}]}),(0,M.jsxs)(d.Z,{children:[(0,M.jsx)(W,{isFiltered:re,filterAdvantage:ee,optionsAdvantages:G,filterStartDate:Y,onResetFilter:function(){$(null),te("all")},onFilterAdvantage:function(e){te(e.target.value)},onFilterStartDate:function(e){var t=new Date(e);$(t)}}),(0,M.jsx)(u.Z,{sx:{position:"relative",overflow:"unset"},children:(0,M.jsx)(p.Z,{children:z?(0,M.jsx)(c.Z,{sx:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",height:300,width:"100%"},children:(0,M.jsx)(g.Z,{size:40,color:"primary"})}):(0,M.jsxs)(v.Z,{size:t?"small":"medium",sx:{minWidth:800},children:[(0,M.jsx)(j.K,{order:S,orderBy:T,headLabel:H,rowCount:null===U||void 0===U?void 0:U.length,numSelected:P.length,onSort:A}),(0,M.jsxs)(h.Z,{children:[null===ae||void 0===ae?void 0:ae.slice(a*w,a*w+w).map((function(e){return(0,M.jsx)(D,{row:e,selected:P.includes(e.id.toString()),onViewRow:function(){return t=e.id,void L(x.vB.transations.view((0,l.o)(t.toString())));var t}},e.id)})),(0,M.jsx)(j.$W,{height:ne,emptyRows:(0,j.fQ)(a,w,null===U||void 0===U?void 0:U.length)}),(0,M.jsx)(j.et,{isNotFound:le,title:k("TransationsPage.no_data")})]})]})})}),(0,M.jsx)(j.S_,{count:null===ae||void 0===ae?void 0:ae.length,page:a,rowsPerPage:w,onPageChange:F,onRowsPerPageChange:I,dense:t,onChangeDense:C})]})]})]})}},30791:function(e){e.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||t[0])+"]"}}}()}}]);