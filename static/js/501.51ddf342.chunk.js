"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[501],{85501:function(e,n,t){t.r(n),t.d(n,{default:function(){return ue}});var i=t(65964),a=t(47313),r=t(80941),o=t(82937),s=t(76025),l=t(24969),c=t(87130),d=t(80133),u=t(1413),v=t(29439),p=t(45987),f=t(62111),m=t(17551),g=t(92484),x=t(42669),h=t(18551),Z=t(9651),j=t(49657),b=t(4942),y=t(63366),k=t(87462),P=t(83061),_=t(13019),C=t(21921),w=t(32298),S=t(96694),E=t(14614),R=t(39028),T=t(9456),M=t(54929),F=t(86886),I=t(46417),L=["component","direction","spacing","divider","children","className"],q=(0,T.Z)(),O=(0,S.Z)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return n.root}});function V(e){return(0,E.Z)({props:e,name:"MuiStack",defaultTheme:q})}function H(e,n){var t=a.Children.toArray(e).filter(Boolean);return t.reduce((function(e,i,r){return e.push(i),r<t.length-1&&e.push(a.cloneElement(n,{key:"separator-".concat(r)})),e}),[])}var B=function(e){var n=e.ownerState,t=e.theme,i=(0,k.Z)({display:"flex",flexDirection:"column"},(0,M.k9)({theme:t},(0,M.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var a=(0,F.hB)(t),r=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),o=(0,M.P$)({values:n.direction,base:r}),s=(0,M.P$)({values:n.spacing,base:r});"object"===typeof o&&Object.keys(o).forEach((function(e,n,t){if(!o[e]){var i=n>0?o[t[n-1]]:"column";o[e]=i}}));i=(0,_.Z)(i,(0,M.k9)({theme:t},s,(function(e,t){return{"& > :not(style) + :not(style)":(0,b.Z)({margin:0},"margin".concat((i=t?o[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i])),(0,F.NA)(a,e))};var i})))}return i=(0,M.dt)(t.breakpoints,i)};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.createStyledComponent,t=void 0===n?O:n,i=e.useThemeProps,r=void 0===i?V:i,o=e.componentName,s=void 0===o?"MuiStack":o,l=function(){return(0,C.Z)({root:["root"]},(function(e){return(0,w.Z)(s,e)}),{})},c=t(B),d=a.forwardRef((function(e,n){var t=r(e),i=(0,R.Z)(t),a=i.component,o=void 0===a?"div":a,s=i.direction,d=void 0===s?"column":s,u=i.spacing,v=void 0===u?0:u,p=i.divider,f=i.children,m=i.className,g=(0,y.Z)(i,L),x={direction:d,spacing:v},h=l();return(0,I.jsx)(c,(0,k.Z)({as:o,ownerState:x,ref:n,className:(0,P.Z)(h.root,m)},g,{children:p?H(f,p):f}))}));return d}(),D=A,N=["title","src","description","color","plafond","sx"];function U(e){var n=e.title,t=e.src,i=e.description,r=e.color,o=void 0===r?"primary":r,s=e.plafond,l=e.sx,c=(0,p.Z)(e,N),b=(0,f.Z)(),y=(0,a.useState)(!1),k=(0,v.Z)(y,2),P=k[0],_=k[1],C=(0,d.nt)().translate;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(g.Z,(0,u.Z)((0,u.Z)({onClick:function(){_(!0)},sx:(0,u.Z)({py:5,boxShadow:0,textAlign:"center",cursor:"pointer",color:function(e){return e.palette[o].darker},bgcolor:function(e){return e.palette[o].lighter}},l)},c),{},{children:[(0,I.jsx)(Z.Z,{src:t,sx:(0,u.Z)({mb:3,p:2.5,width:80,height:80,left:"37%",borderRadius:"50%"},(0,h.v3)({direction:"135deg",startColor:"".concat((0,m.Fq)(b.palette[o].dark,0)," 0%"),endColor:"".concat((0,m.Fq)(b.palette[o].dark,.24)," 100%")}))}),(0,I.jsx)(x.Z,{variant:"h6",sx:{opacity:.64,cursor:"pointer"},children:n})]})),(0,I.jsx)(j.Z,{open:P,title:(0,I.jsxs)(D,{direction:"row",justifyContent:"space-between",children:[n,(0,I.jsx)(x.Z,{variant:"subtitle1",children:null===s?C("cagnotte.Uncapped"):"".concat(s," \u20ac")})]}),content:i,action:void 0,onClose:function(){_(!1)}})]})}var Y=t(74165),G=t(15861),W=t(75627),$=t(69973),K=t(7081),Q=t(5448),X=t(71235),z=t(79136),J=t(62463),ee=t(73477),ne=t(32703),te=t(58908),ie=t(62563),ae=t(61911),re=t(11154),oe=t(1333),se=t(8337),le=["title","src","color","sx"];function ce(e){var n=e.title,t=e.src,i=e.color,r=void 0===i?"primary":i,o=e.sx,s=(0,p.Z)(e,le),l=(0,f.Z)(),c=(0,d.nt)().translate,j=(0,oe.I0)(),b=(0,te.Ds)().enqueueSnackbar,y=(0,a.useState)(!1),k=(0,v.Z)(y,2),P=k[0],_=k[1],C=(0,oe.v9)((function(e){return e.auth})),w=C.company,S=C.isLoading,E=C.configurations,R=$.object().shape({facialValue:$.number().required(c("tax.face_value_is_required")).typeError(c("invalid_value")).transform((function(e,n){return""===("string"===typeof n?null===n||void 0===n?void 0:n.trim():n)?null:e})).nullable().moreThan(0,c("tax.Must_be_more")).max(99,c("tax.facial_value_must_be_less")),coveragePercent:$.number().required(c("tax.percent_is_required")).typeError(c("invalid_value")).transform((function(e,n){return""===("string"===typeof n?null===n||void 0===n?void 0:n.trim():n)?null:e})).nullable().max(60,c("tax.Must_be_less_than_percent")).min(50,c("tax.min_percent"))}),T=(0,a.useMemo)((function(){return{facialValue:(null===w||void 0===w?void 0:w.ticketRestaurantFacialValue)||null,coveragePercent:(null===w||void 0===w?void 0:w.ticketRestaurantFacialValueCoveragePercent)||null}}),[w]),M=(0,W.cI)({reValidateMode:"onChange",mode:"onChange",resolver:(0,ie.X)(R),defaultValues:T}),F=M.reset,L=M.handleSubmit,q=(0,M.watch)(),O=function(){_(!1),F()},V=function(){var e=(0,G.Z)((0,Y.Z)().mark((function e(n){return(0,Y.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j((0,se.vI)({data:n,translate:c,toast:b,onClose:O}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){w&&F(T)}),[w,T,F]),(0,a.useEffect)((function(){j((0,se.Hi)())}),[j]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(g.Z,(0,u.Z)((0,u.Z)({onClick:function(){_(!0)},sx:(0,u.Z)({py:5,boxShadow:0,textAlign:"center",cursor:"pointer",color:function(e){return e.palette[r].darker},bgcolor:function(e){return e.palette[r].lighter}},o)},s),{},{children:[(0,I.jsx)(Z.Z,{src:t,sx:(0,u.Z)({mb:3,p:2.5,width:80,height:80,left:"37%",borderRadius:"50%"},(0,h.v3)({direction:"135deg",startColor:"".concat((0,m.Fq)(l.palette[r].dark,0)," 0%"),endColor:"".concat((0,m.Fq)(l.palette[r].dark,.24)," 100%")}))}),(0,I.jsx)(x.Z,{variant:"h6",sx:{opacity:.64,cursor:"pointer"},children:n})]})),(0,I.jsxs)(K.Z,{open:P,onClose:O,children:[(0,I.jsx)(Q.Z,{children:n}),(0,I.jsx)(X.Z,{children:(0,I.jsxs)(ae.Z,{methods:M,onSubmit:L(V),children:[(0,I.jsx)(re.au,{autoFocus:!0,fullWidth:!0,name:"facialValue",margin:"dense",variant:"outlined",label:c("tax.face_value")}),(0,I.jsx)(re.au,{autoFocus:!0,fullWidth:!0,margin:"dense",variant:"outlined",name:"coveragePercent",label:c("tax.percent")}),q.facialValue*q.coveragePercent/100>(null===E||void 0===E?void 0:E.recommendedHighestTicketRestaurantEffectiveRefundValue)&&(0,I.jsxs)(z.Z,{severity:"warning",sx:{mt:3},children:[c("tax.exceeded")," :",null===E||void 0===E?void 0:E.recommendedHighestTicketRestaurantEffectiveRefundValue]}),(0,I.jsxs)(J.Z,{direction:"row",spacing:3,sx:{mb:3,mt:3},justifyContent:"flex-end",children:[(0,I.jsx)(ne.Z,{type:"submit",variant:"contained",loading:S,children:c("save")}),(0,I.jsx)(ee.Z,{onClick:O,color:"inherit",children:c("Cancel")})]})]})})]})]})}var de=t(4862);function ue(){var e=(0,c.K$)().themeStretch,n=(0,d.nt)(),t=n.translate,u=(n.currentLang,(0,oe.I0)()),v=(0,oe.v9)((function(e){return e.settings})),p=v.plafonds,f=v.texts;return(0,a.useEffect)((function(){u((0,de.PQ)())}),[u]),(0,a.useEffect)((function(){u((0,de.YW)())}),[u]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(i.ql,{children:(0,I.jsxs)("title",{children:[" ",t("advantagesPage.advantages")]})}),(0,I.jsxs)(r.Z,{maxWidth:!e&&"lg",children:[(0,I.jsx)(l.Z,{heading:t("advantagesPage.list_advantages"),links:[{name:t("Dashboard"),href:s.vB.general.homeComany},{name:t("advantagesPage.advantages"),href:s.vB.category.list},{name:t("list")}]}),(0,I.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,I.jsx)(ce,{color:"primary",title:t("avantages.billets_restaurant"),src:"/assets/icons/categories/Meals.png"})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,I.jsx)(U,{title:t("avantages.Telework"),color:"secondary",src:"/assets/icons/categories/Telework.png",description:null!==f?null===f||void 0===f?void 0:f.REMOTE:t("advantagesPage.descriptions.telework"),plafond:null!==p?null===p||void 0===p?void 0:p.REMOTE:999999})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,I.jsx)(U,{title:t("avantages.Culture"),src:"/assets/icons/categories/Culture.png",description:null!==f?null===f||void 0===f?void 0:f.CULTURE:t("advantagesPage.descriptions.culture"),plafond:null!==p?null===p||void 0===p?void 0:p.CULTURE:999999})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,I.jsx)(U,{title:t("avantages.Holidays"),color:"secondary",src:"/assets/icons/categories/Holidays.png",description:null!==f?null===f||void 0===f?void 0:f.HOLIDAYS:t("advantagesPage.descriptions.holidays"),plafond:null!==p?null===p||void 0===p?void 0:p.HOLIDAYS:999999})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,I.jsx)(U,{title:t("avantages.Mobility"),color:"secondary",src:"/assets/icons/categories/Mobility.png",description:null!==f?null===f||void 0===f?void 0:f.MOBILITY:t("advantagesPage.descriptions.mobility"),plafond:null!==p?null===p||void 0===p?void 0:p.MOBILITY:999999})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,I.jsx)(U,{title:t("avantages.Gifts"),src:"/assets/icons/categories/Gifts.png",description:null!==f?null===f||void 0===f?void 0:f.GIFT:t("advantagesPage.descriptions.gifts"),plafond:null!==p?null===p||void 0===p?void 0:p.GIFT:999999})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,I.jsx)(U,{title:t("avantages.Personal_assistance"),color:"secondary",src:"/assets/icons/categories/PersonalServices.png",description:null!==f?null===f||void 0===f?void 0:f.HELP:t("advantagesPage.descriptions.help"),plafond:null!==p?null===p||void 0===p?void 0:p.HELP:999999})}),(0,I.jsx)(o.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,I.jsx)(U,{title:t("avantages.Sport"),src:"/assets/icons/categories/Sport.png",description:null!==f?null===f||void 0===f?void 0:f.SPORT:t("advantagesPage.descriptions.sport"),plafond:null!==p?null===p||void 0===p?void 0:p.SPORT:999999})})]})]})]})}}}]);