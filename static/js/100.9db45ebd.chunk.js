"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[100],{90100:function(e,n,t){t.r(n),t.d(n,{default:function(){return K}});var o=t(29439),i=t(65964),r=t(47313),l=t(58467),a=t(2135),s=t(80941),c=t(73477),d=t(92484),u=t(39874),h=t(62463),g=t(83719),x=t(18104),v=t(16157),f=t(34207),j=t(44874),m=t(53805),Z=t(32703),p=t(76025),w=t(10978),C=t(94085),y=t(49657),k=t(24969),S=t(87130),_=t(68986),b=t(28840),R=t(77914),P=t(59017),F=t(80133),A=t(46417);function B(e){var n=e.filterName,t=e.isFiltered,o=e.onFilterName,i=e.onResetFilter,r=(0,F.nt)().translate;return(0,A.jsxs)(h.Z,{spacing:2,alignItems:"center",direction:{xs:"column",md:"row"},sx:{px:2.5,py:3},children:[(0,A.jsx)(R.Z,{fullWidth:!0,value:n,onChange:o,placeholder:r("cagnotte.search"),InputProps:{startAdornment:(0,A.jsx)(P.Z,{position:"start",children:(0,A.jsx)(w.Z,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})}}),t&&(0,A.jsx)(c.Z,{color:"error",sx:{flexShrink:0},onClick:i,startIcon:(0,A.jsx)(w.Z,{icon:"eva:trash-2-outline"}),children:r("clear")})]})}var D=t(59629),E=t(37982),I=t(41769),L=t(42669),N=t(77449),W=t(6621),$=t(34940),V=t(90121),q=t(1333);function z(e){var n=e.row,t=e.selected,i=e.onSelectRow,l=e.onViewRow,a=e.onEditRow,s=e.onDeleteRow,c=e.onListEmployeesRow,d=(0,F.nt)().translate,u=n.name,v=n.advantages,f=n.isStandard,j=(0,q.v9)((function(e){return e.categories})).isEmployeeLoading,m=(0,r.useState)(!1),p=(0,o.Z)(m,2),C=p[0],k=p[1],S=(0,r.useState)(null),_=(0,o.Z)(S,2),b=_[0],R=_[1],P=function(){R(null)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(D.Z,{hover:!0,selected:t,children:[(0,A.jsx)(E.Z,{padding:"checkbox",children:(0,A.jsx)(I.Z,{checked:t,onClick:i,disabled:!0===f})}),(0,A.jsx)(E.Z,{children:(0,A.jsx)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:(0,A.jsxs)("div",{children:[(0,A.jsx)(L.Z,{variant:"subtitle1",noWrap:!0,children:(0,A.jsx)(N.Z,{noWrap:!0,onClick:l,sx:{color:"text.primary",cursor:"pointer"},children:u})}),f&&(0,A.jsx)(L.Z,{variant:"body2",noWrap:!0,sx:{color:"text.disabled"},children:"Standard"})]})})}),(0,A.jsx)(E.Z,{align:"left",sx:{display:"flex"},children:0!==(null===v||void 0===v?void 0:v.length)?null===v||void 0===v?void 0:v.map((function(e,n){return(0,A.jsxs)(L.Z,{variant:"subtitle2",children:["\xa0\xa0",n<v.length-1?d("advantagesConst."+e.type)+",":d("advantagesConst."+e.type)]},e.id)})):(0,A.jsx)(L.Z,{variant:"subtitle2",children:d("cagnotte.no_benefits")})}),(0,A.jsxs)(E.Z,{align:"right",children:[(0,A.jsx)(g.Z,{title:d("update"),placement:"top",arrow:!0,onClick:a,children:(0,A.jsx)(x.Z,{color:"default",children:(0,A.jsx)(w.Z,{icon:"solar:pen-bold"})})}),(0,A.jsx)(x.Z,{color:b?"inherit":"default",onClick:function(e){R(e.currentTarget)},children:(0,A.jsx)(w.Z,{icon:"eva:more-vertical-fill"})})]})]}),(0,A.jsxs)(V.Z,{open:b,onClose:P,arrow:"right-top",sx:{width:160},children:[(0,A.jsxs)(W.Z,{onClick:function(){a(),P()},children:[(0,A.jsx)(w.Z,{icon:"solar:hand-stars-bold"}),d("Advantages")]}),(0,A.jsxs)(W.Z,{onClick:function(){c(),P()},children:[(0,A.jsx)(w.Z,{icon:"mdi:users-group"}),d("Employees")]}),!f&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)($.Z,{sx:{borderStyle:"dashed"}}),(0,A.jsxs)(W.Z,{onClick:function(){k(!0),P()},sx:{color:"error.main"},children:[(0,A.jsx)(w.Z,{icon:"eva:trash-2-fill"}),d("cagnotte.delete")]})]})]}),(0,A.jsx)(y.Z,{open:C,onClose:function(){k(!1)},title:d("delete"),content:d("cagnotte.Are_you_sure_to_delete"),action:(0,A.jsx)(Z.Z,{variant:"contained",color:"error",onClick:s,loading:j,children:d("yes")})})]})}var J=t(2464);function K(){var e=(0,S.K$)().themeStretch,n=(0,_.Ds)().enqueueSnackbar,t=(0,l.s0)(),R=(0,F.nt)().translate,P=(0,q.I0)(),D=(0,b.x6)({defaultOrderBy:"createDate"}),E=D.dense,I=D.page,L=D.order,N=D.orderBy,W=D.rowsPerPage,$=D.setPage,V=D.selected,K=D.setSelected,O=D.onSelectRow,Q=D.onSelectAllRows,T=D.onSort,M=D.onChangeDense,U=D.onChangePage,G=D.onChangeRowsPerPage,H=(0,q.v9)((function(e){return e.categories})),X=H.isLoading,Y=H.refresh,ee=H.categories,ne=(0,r.useState)([]),te=(0,o.Z)(ne,2),oe=te[0],ie=te[1],re=(0,r.useState)(""),le=(0,o.Z)(re,2),ae=le[0],se=le[1],ce=(0,r.useState)(!1),de=(0,o.Z)(ce,2),ue=de[0],he=de[1],ge=[{id:"name",label:R("categorie.name"),align:"left"},{id:"advantages",label:R("Advantages"),align:"left"},{id:""}],xe=function(e){var n,t,o=e.inputData,i=e.comparator,r=e.filterName,l=null===(n=o)||void 0===n?void 0:n.map((function(e,n){return[e,n]}));null===l||void 0===l||l.sort((function(e,n){var t=i(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),o=null===l||void 0===l?void 0:l.map((function(e){return e[0]})),r&&(o=null===(t=o)||void 0===t?void 0:t.filter((function(e){var n;return-1!==(null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase().indexOf(null===r||void 0===r?void 0:r.toLowerCase()))})));return o}({inputData:oe,comparator:(0,b.sQ)(L,N),filterName:ae}),ve=null===xe||void 0===xe?void 0:xe.slice(I*W,I*W+W),fe=E?56:76,je=""!==ae,me=!(null!==xe&&void 0!==xe&&xe.length)&&!!ae,Ze=function(){he(!1)};return(0,r.useEffect)((function(){P((0,J.kw)({}))}),[P,Y]),(0,r.useEffect)((function(){null!==ee&&void 0!==ee&&ee.length&&ie(null===ee||void 0===ee?void 0:ee.filter((function(e){return"ACTIVE"===(null===e||void 0===e?void 0:e.status)})))}),[ee]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(i.ql,{children:(0,A.jsxs)("title",{children:[" ",R("cagnotte.cagnottes")]})}),(0,A.jsxs)(s.Z,{maxWidth:!e&&"lg",children:[(0,A.jsx)(k.Z,{heading:R("Categories"),links:[{name:R("Dashboard"),href:p.vB.general.homeComany},{name:R("Categories"),href:p.vB.cagnotte.root},{name:R("list")}],action:(0,A.jsx)(c.Z,{to:p.vB.cagnotte.new,component:a.rU,variant:"contained",startIcon:(0,A.jsx)(w.Z,{icon:"eva:plus-fill"}),children:R("cagnotte.add_cagnotte")})}),(0,A.jsxs)(d.Z,{children:[(0,A.jsx)(B,{isFiltered:je,filterName:ae,onFilterName:function(e){$(0),se(e.target.value)},onResetFilter:function(){se("")}}),(0,A.jsxs)(u.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,A.jsx)(b.Z4,{dense:E,numSelected:V.length,rowCount:null===oe||void 0===oe?void 0:oe.length,onSelectAllRows:function(e){return Q(e,oe.map((function(e){return e.id})))},action:(0,A.jsx)(h.Z,{direction:"row",children:(0,A.jsx)(g.Z,{title:R("delete"),children:(0,A.jsx)(x.Z,{color:"primary",onClick:function(){he(!0)},children:(0,A.jsx)(w.Z,{icon:"eva:trash-2-outline"})})})})}),X?(0,A.jsx)(v.Z,{sx:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",height:300,width:"100%"},children:(0,A.jsx)(f.Z,{size:40,color:"primary"})}):(0,A.jsx)(C.Z,{children:(0,A.jsxs)(j.Z,{size:E?"small":"medium",sx:{minWidth:800},children:[(0,A.jsx)(b.K,{order:L,orderBy:N,headLabel:ge,rowCount:null===oe||void 0===oe?void 0:oe.length,numSelected:V.length,onSort:T,onSelectAllRows:function(e){return Q(e,oe.map((function(e){return e.id})))}}),(0,A.jsxs)(m.Z,{children:[null===xe||void 0===xe?void 0:xe.slice(I*W,I*W+W).map((function(e){return(0,A.jsx)(z,{row:e,selected:V.includes(e.id),onSelectRow:function(){return O(e.id)},onViewRow:function(){return n=e.id,void t(p.vB.cagnotte.edit(n));var n},onEditRow:function(){return n=e.id,void t(p.vB.cagnotte.edit(n));var n},onDeleteRow:function(){return t=e.id,void P((0,J.J$)({id:t,selected:[],toast:n,translate:R}));var t},onListEmployeesRow:function(){return n=e.id,void t(p.vB.cagnotte.listAssign(n));var n}},e.id)})),(0,A.jsx)(b.$W,{height:fe,emptyRows:(0,b.fQ)(I,W,null===oe||void 0===oe?void 0:oe.length)}),(0,A.jsx)(b.et,{isNotFound:me,title:R("empty_table.no_catgeory")})]})]})})]}),(0,A.jsx)(b.S_,{count:null===xe||void 0===xe?void 0:xe.length,page:I,rowsPerPage:W,onPageChange:U,onRowsPerPageChange:G,dense:E,onChangeDense:M})]})]}),(0,A.jsx)(y.Z,{open:ue,onClose:Ze,title:R("delete"),content:(0,A.jsxs)(A.Fragment,{children:[R("errors.Are_you_sure_to_delete")," ",(0,A.jsxs)("strong",{children:[" ",V.length," "]})," ",R("cagnotte.cagnottes")]}),action:(0,A.jsx)(Z.Z,{color:"error",onClick:function(){!function(e){for(var t=0;t<e.length;t++)P((0,J.J$)({id:null,selected:e,toast:n,translate:R}));if(K([]),I>0)if(e.length===ve.length)$(I-1);else if(e.length===xe.length)$(0);else if(e.length>ve.length){var o=Math.ceil((oe.length-e.length)/W)-1;$(o)}}(V),Ze()},variant:"contained",loading:X,children:R("yes")})})]})}}}]);